# RInsolation

## –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞–≥–∏–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Å–æ–ª—è—Ü–∏–µ–π –≤ Autodesk Revit.  

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üîπ `Commands` ‚Äî –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π: —Ä–∞—Å—á–µ—Ç –∏–Ω—Å–æ–ª—è—Ü–∏–∏, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ª–∏–Ω–∏–π, –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–π.  

### üîπ `Configuration` ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –∏–Ω—Å–æ–ª—è—Ü–∏–∏.

### üîπ `ContextProviders` ‚Äî –†–∞–±–æ—Ç–∞ —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (ServiceLocator). –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–∞–Ω–¥ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤. 

### üîπ `ElementExtractor` ‚Äî –°–µ—Ä–≤–∏—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
–ò–∑–≤–ª–µ–∫–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ Revit –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏: –≤—ã–±–æ—Ä –≤—Ä—É—á–Ω—É—é, –ø–æ –∏–º–µ–Ω–∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ –∏ –¥—Ä.  

### üîπ `Helpers` ‚Äî –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
–ù–∞–±–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É—Ç–∏–ª–∏—Ç, —É–ø—Ä–æ—â–∞—é—â–∏—Ö —Ä–∞–±–æ—Ç—É —Å Revit –∏ –¥–∞–Ω–Ω—ã–º–∏:  
- –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ–ø—É—Å—Ç–æ–≥–æ **Selection**,  
- –ø–æ–ª—É—á–µ–Ω–∏–µ **3D View**,  
- –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ,  

### üîπ `InsolationCalculator` ‚Äî –°–µ—Ä–≤–∏—Å —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω—Å–æ–ª—è—Ü–∏–∏
–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ –∏–Ω—Å–æ–ª—è—Ü–∏–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

### üîπ `MVVMs` ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ WPF-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
–û–∫–Ω–∞ (V) –∏ –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (VM), –≤–∫–ª—é—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å—á–µ—Ç–æ–≤.  

### üîπ `Rendering` ‚Äî –°–µ—Ä–≤–∏—Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
–°–µ—Ä–≤–∏—Å –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤ Revit. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ **–∏–Ω—Å–æ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ª—É—á–µ–π**.

### üîπ `SunPosition` ‚Äî –°–µ—Ä–≤–∏—Å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–ª–æ–∂–µ–Ω–∏–π —Å–æ–ª–Ω—Ü–∞
–°–µ—Ä–≤–∏—Å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–ª–æ–∂–µ–Ω–∏–π —Å–æ–ª–Ω—Ü–∞.

### üîπ `XYZExtractor` ‚Äî –°–µ—Ä–≤–∏—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è XYZ
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ Revit –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã XYZ, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–∞—Ö –∏–Ω—Å–æ–ª—è—Ü–∏–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è.  

---

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ **–∏—Å—Ç–∏–Ω–Ω–æ–º—É —Å–µ–≤–µ—Ä—É**.  
2. –ü—Ä–æ–≤–µ–¥–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É, –∑–∞–ø–æ–ª–Ω–∏–≤ —Ñ–æ—Ä–º—É –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (**Settings -> –ù–∞—Å—Ç—Ä–æ–π–∫–∏**).  
3. –î–æ–±–∞–≤—å—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω—Å–æ–ª—è—Ü–∏–∏ (**Add -> –í—ã–±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç / –í—ã–±—Ä–∞—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–æ**).  
4. –ü—Ä–æ–≤–µ–¥–∏—Ç–µ —Ä–∞—Å—á–µ—Ç (**Run -> –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤—Å—ë**).  
5. –ü–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
   - –û–∫–Ω–æ –º–æ–∂–Ω–æ —Å–Ω–æ–≤–∞ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ **View -> –í—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**.  

### –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

ElementId | –í—Ä–µ–º—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π* –∏–Ω—Å–æ–ª—è—Ü–∏–∏ | –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Å–æ–ª—è—Ü–∏–∏ | –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –∏–Ω—Å–æ–ª—è—Ü–∏–∏

\* **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Å–æ–ª—è—Ü–∏—è** –¥–æ–ø—É—Å–∫–∞–µ—Ç –æ–¥–Ω–æ –∑–∞—Ç–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –Ω–µ –±–æ–ª–µ–µ 10 –º–∏–Ω—É—Ç.  

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü–æ–¥—Å–≤–µ—Ç–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –æ–∫–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (**View -> –ü–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è —ç–ª–µ–º.**)  
- –í—ã–¥–µ–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ Revit –¥–≤–æ–π–Ω—ã–º –Ω–∞–∂–∞—Ç–∏–µ–º –ø–æ —Å—Ç—Ä–æ–∫–µ –≤ –æ–∫–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.  
- –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Å–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –ª—É—á–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ (**Run -> –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ª—É—á–∏**, —à–∞–≥ ‚Äî 30 –º–∏–Ω—É—Ç).  
- –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ª—É—á–∏ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ SketchPlane (**Utility -> –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è**).  

---

## –°–±–æ—Ä–∫–∞ / –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –í —Ñ–∞–π–ª–µ `.csproj` –∑–∞–º–µ–Ω–∏—Ç–µ **HintPath** –¥–ª—è `RevitAPI.dll` –∏ `RevitAPIUI.dll`.  
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–±–æ—Ä–∫—É:
   ```bash
   dotnet build
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã:
`RInsolation.dll`, `CoordinateSharp.dll` –∏ `Microsoft.Xaml.Behaviors.dll`
–≤ –∫–∞—Ç–∞–ª–æ–≥:
`%AppData%\Autodesk\Revit\Addins\<year>\RInsolation`
4. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ `Rinsolation.addin` –≤ –∫–∞—Ç–∞–ª–æ–≥:
`%AppData%\Autodesk\Revit\Addins\<year>`

